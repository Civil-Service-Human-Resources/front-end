{% extends 'layouts/default.layout.njk' %}

{% set pageTitle = 'Your profile - Learning Platform for Government' %}
{% set blackBarTitle = 'Learning Platform for Government' %}
{% set learnerPrototypeVersion = 'v12' %}
{% set signOutPath = '/prototypes/learner/v12/' %}
{% set homePath = '/prototypes/learner/v12/home' %}
{% set hasBeenUpdated = workAreaHasBeenUpdated if workAreaHasBeenUpdated %}
{% set showUpdatedPrimaryWorkArea = showUpdatedPrimaryWorkArea if showUpdatedPrimaryWorkArea %}
{% set setWorkAreaDigital = setWorkAreaDigital if setWorkAreaDigital %}
{% set setWorkAreaCommercial = setWorkAreaCommercial if setWorkAreaCommercial %}
{% set showRolesJoined = showRolesJoined if showRolesJoined %}
{% set hasAddedContractManagement = hasAddedContractManagement if hasAddedContractManagement %}
{% set hasBeenUpdatedOther = hasBeenUpdatedOther if hasBeenUpdatedOther %}
{% set hasBeenUpdatedInterests = hasBeenUpdatedInterests if hasBeenUpdatedInterests %}
{% set showUpdatedOtherWorkArea = showUpdatedOtherWorkArea if showUpdatedOtherWorkArea %}

{# New stuff #}
{% set departmentName = departmentName if departmentName %}
{% set profileInterestsArray = profileInterestsArray if profileInterestsArray %}
{% set gradeName = profileGrades if profileGrades %}
{% set profileOthersArray = profileOthersArray if profileOthersArray %}
{% set professionName = primaryChoice if primaryChoice %}
{% set combinedName = combinedName if combinedName %}
{% set primaryOpsDelChoiceArray = primaryOpsDelChoiceArray if primaryOpsDelChoiceArray %}
{% set email = email if email %}
{% set anythingUpdated = anythingUpdated if anythingUpdated %}
{% set firstName = firstName if firstName %}


{% block content %}

    <h1 class="heading-xlarge heading heading--page-heading ">
        Hello,
        {% if firstName %}
         {{ firstName }}
        {% else %}
            Lucy
        {% endif %}
    </h1>

    {% call components.gridRow() %}

        {% call components.columnFull() %}

            {% if anythingUpdated %}

                {{ components.banner(mainText='Your profile has been updated', secondaryText='', type="confirmation")}}

            {% endif %}

            {% if hasBeenUpdated %}

                {{ components.banner(mainText='Your primary area of work has been updated', secondaryText='', type="confirmation")}}

            {% endif %}

            {% if hasBeenUpdatedOther %}

                {#{{ components.banner(mainText='Your other areas of work has been updated', secondaryText='', type="confirmation")}}#}
                {{ components.banner(mainText='Your interests have been updated', secondaryText='', type="confirmation")}}

            {% endif %}

            {% if showUpdatedOtherWorkArea %}

                {{ components.banner(mainText='Your other areas of work have been updated', secondaryText='', type="confirmation")}}

            {% endif %}

            {#{% if hasBeenUpdatedInterests %}

                {{ components.banner(mainText='Your interests have been updated', secondaryText='', type="confirmation")}}

            {% endif %}#}

            {{ components.heading(text='Personal details', tag='h2', size='medium', extraClass='') }}

            <table class="key-value-list key-value-list--auto u-space-b30 table--top">

                <thead class="visuallyhidden">
                    <th>Detail</th>
                    <th>Your entered value</th>
                    <th>Action</th>
                </thead>

                <tbody>

                    <tr>
                        <td class="key-value-list__key ">Name</td>
                        <td class="key-value-list__value">
                            {% if combinedName %}
                                {{ combinedName }}
                            {% else %}
                                Lucy Pevensie
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/name">Change<span class="visuallyhidden"> your first  or last name</span></a>
                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Email</td>
                        <td class="key-value-list__value">
                            {% if email %}
                                {{ email }}
                            {% else %}
                                l.pevensie@&#8203;hmrc.&#8203;gov.uk
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/email">Change<span class="visuallyhidden"> your email</span></a>
                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Password</td>
                        <td class="key-value-list__value">&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;</td>
                        <td class="key-value-list__item-action">
                            <a href="#">Change<span class="visuallyhidden"> your password</span></a>
                        </td>
                    </tr>

                </tbody>

            </table>

            {{ components.heading(text='Job details', tag='h2', size='medium', extraClass='') }}

            <table class="key-value-list key-value-list--auto u-space-b30 table--top">

                <thead class="visuallyhidden">
                    <th>Detail</th>
                    <th>Your entered value</th>
                    <th>Action</th>
                </thead>
                <tbody>

                    <tr>
                        <td class="key-value-list__key ">Organisation</td>
                        <td class="key-value-list__value">
                            {% if departmentName %}
                                {{ departmentName }}
                            {% else %}
                                Unknown
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/organisation">Change<span class="visuallyhidden"> your organisation</span></a>
                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Primary area of work</td>
                        <td class="key-value-list__value">
                            {% if professionName %}
                                {{ professionName }}
                            {% else %}
                                Unknown
                            {% endif %}

                            {% if primaryOpsDelChoiceArray %}
                                <br>
                                {% for item in primaryOpsDelChoiceArray %}
                                    {{ item }},
                                {% endfor %}
                            {% endif %}

                        </td>
                        <td class="key-value-list__item-action">
                            {#{% if showRolesJoined %}
                                <a href="/prototypes/learner/v12/your-profile/area-of-work/joined-levels">Change<span class="visuallyhidden"> your primary area of work</span></a>
                            {% else %}
                                <a href="/prototypes/learner/v12/your-profile/area-of-work/joined-levels-pm">Change<span class="visuallyhidden"> your primary area of work</span></a>
                            {% endif %}
                            <br>
                            <a href="/prototypes/learner/v12/your-profile/area-of-work/joined-levels?level1=true">Change<span class="visuallyhidden"> your primary area of work</span></a>

                            <br>
                            <span>standard link below</span> <br>
                            <a href="/prototypes/learner/v12/your-profile/area-of-work">Change<span class="visuallyhidden"> your primary area of work</span></a>


                            <br>
                            <span>new onw</span> <br>#}
                            <a href="/prototypes/learner/v12/your-profile/primary">Change<span class="visuallyhidden"> your primary area of work</span></a>

                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Other areas of work</td>
                        <td class="key-value-list__value">
                            {% if profileOthersArray %}
                                {% for item in profileOthersArray %}
                                    {{ item }}<br>
                                {% endfor %}
                            {% else %}
                                Unknown
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/other-areas">Change<span class="visuallyhidden"> your other areas of work</span></a>
                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Interests</td>
                        <td class="key-value-list__value">
                            {% if profileInterestsArray %}
                                {% for item in profileInterestsArray %}
                                    {{ item }}<br>
                                {% endfor %}
                            {% else %}
                                Unknown
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/core-interests">Change<span class="visuallyhidden"> your interests</span></a>
                        </td>
                    </tr>

                    <tr>
                        <td class="key-value-list__key ">Grade</td>
                        <td class="key-value-list__value">
                            {% if gradeName %}
                                {{ gradeName }}
                            {% else %}
                                Unknown
                            {% endif %}
                        </td>
                        <td class="key-value-list__item-action">
                            <a href="/prototypes/learner/v12/your-profile/grade">Change<span class="visuallyhidden"> your job grade</span></a>
                        </td>
                    </tr>

                </tbody>

            </table>

        {%- endcall %}

    {%- endcall %}

{% endblock %}
